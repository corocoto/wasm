<html>
<body>
<script>
    async function run () {
        try {
            const response = await fetch("add.wasm");
            const buffer = await response.arrayBuffer(); // need to document this
            const wasm = await WebAssembly.instantiate(buffer);
            console.log(wasm.instance.exports.addInt32(1,2));
            console.log(wasm.instance.exports.addInt64(1n,2n)); //need to set BigInt types as arguments
            console.log(wasm.instance.exports.addFloat32(1.1,2.1));
            console.log(wasm.instance.exports.addFloat64(1.1,2.1));
        }
        catch(e) {
            console.error(e);
        }
    }

    run();
</script>
</body>
</html>